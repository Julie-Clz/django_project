{% extends "blog/base.html" %}
{% load crispy_forms_tags %}
{% block content %}
  <div class="content-section id-card">
    <div class="d-flex d-inline-block d-flex justify-content-start">
      <img class="rounded-circle account-img" src="{{ userteam.image.url }}">
      <div>
        <h2 class="account-heading">{{ userteam.name }}</h2>
        <p class="text-muted">Admin : {{ userteam.user.username.capitalize }}</p>
      </div>
    </div>
    <div class="d-flex justify-content-around">
      <div class="d-flex align-items-center">
        <div>
          {% if userteam.user == user %}
            <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{% url 'userteam-update' object.id %}">Modifier</a>
            <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'userteam-delete' object.id %}">Supprimer</a>
          {% else %}
            <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'userteam-quit' current_member.id %}">Quitter la Team</a>
          {% endif %}
        </div>
      </div>
      <ul class="id-team mb-3"><strong class="mb-2">Membres:</strong>
        <li class="id-team-list-item">{{ userteam.user.username.capitalize }}</li>
        {% for member in members %}
          <li class="id-team-list-item">{{ member.user.username.capitalize }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>
  <div class="content-section">
    <h4 class="mb-3">Classement</h4>
    {% for member in members %}
      {% for user_point in user_points %}
        {% if user_point.user__username == userteam.user.username or user_point.user__username == member.user.username %}
          <li class="id-team-list-item">{{ forloop.counter }} - {{ user_point.user__username.capitalize }} : {{ user_point.points }} Point(s)</li>
        {% endif %}
      {% endfor %}
    {% endfor %}
  </div>
{% endblock content %}
